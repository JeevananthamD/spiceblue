(this.webpackJsonpspiceblue=this.webpackJsonpspiceblue||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(15),i=a.n(c),r=(a(39),a(40),a(41),a(5)),o=a(13);var l=function(e,t){return{type:e,payload:t}},d="handleEditing",u="handleDescription",j="handleDate",h="handleTime",p="handleCancle",b="handleSubmit",m="handleEdit",O="handleDone",f="handleDelete",g="handleEmail",x="handlePassword",v="handleLoginData",k="handleUserData",_="handleTaskData",y="handleTeamData",D="handleUser",S="handleLogout",N="updateToken",w=a(2);var E=Object(o.b)((function(e){return{token:e.token}}),(function(e){return{handleLogout:function(){return localStorage.removeItem("auth_token_jeeva"),e(l(S,null))},updateToken:function(t){return e(l(N,t))}}}))((function(e){var t=e.token,a=e.handleLogout,n=e.updateToken,s=Object(r.g)();return JSON.parse(localStorage.getItem("auth_token_jeeva"))&&!t&&n(JSON.parse(localStorage.getItem("auth_token_jeeva"))),JSON.parse(localStorage.getItem("auth_token_jeeva"))?Object(w.jsxs)("div",{className:"layout",children:[Object(w.jsx)("div",{className:"sidebar"}),Object(w.jsxs)("div",{className:"right_container",children:[Object(w.jsx)("div",{className:"topbar",children:Object(w.jsx)("button",{onClick:a,children:"Log Out"})}),Object(w.jsx)("div",{className:"content",children:e.children})]})]}):(s.push("/login"),Object(w.jsx)(w.Fragment,{}))})),T=a(6),C=a.n(T),L=a(12),U=(a(49),a(50),a(19)),F=a(14),I=a.n(F);function P(e,t){return J.apply(this,arguments)}function J(){return(J=Object(L.a)(C.a.mark((function e(t,a){var n,s,c,i,r=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>2&&void 0!==r[2]?r[2]:{},s=r.length>3&&void 0!==r[3]?r[3]:"",i={headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"}},"POST"!=a){e.next=7;break}return e.next=6,I.a.post("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38",n,i).catch((function(e){return e}));case 6:c=e.sent;case 7:if("PUT"!=a){e.next=11;break}return e.next=10,I.a.put("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38/".concat(s),n,i).catch((function(e){return e}));case 10:c=e.sent;case 11:if("GET"!=a){e.next=15;break}return e.next=14,I.a.get("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38",i).catch((function(e){return e}));case 14:c=e.sent;case 15:if("DELETE"!=a){e.next=19;break}return e.next=18,I.a.delete("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38/".concat(s),i).catch((function(e){return e}));case 18:c=e.sent;case 19:return e.abrupt("return",c.data);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return A.apply(this,arguments)}function A(){return(A=Object(L.a)(C.a.mark((function e(t,a){var n,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"}},e.next=3,I.a.get(a,s).catch((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){var t=new Date;return{assigned_user:e.assignedUser,task_msg:e.description,task_date:e.date,task_time:e.time,is_completed:0,time_zone:-1*t.getTimezoneOffset()}}function M(e){var t=Math.floor(e/3600),a=e%3600/60,n=t>=12?"PM":"AM";return t=(t=0==(t=t>12?t%12:t)?12:t)<10?"0".concat(t):t,a=a<10?"0".concat(a):a,"".concat(t,":").concat(a," ").concat(n)}var B=a(78);var G=Object(o.b)((function(e){return{isValid:e.isValid,description:e.description,date:e.date,time:e.time,teamData:e.teamData,assignedUser:e.assignedUser,idState:e.idState,isComplete:e.isComplete,taskList:e.taskList}}),(function(e){return{handleSubmit:function(t){return e(l(b,t))},handleDescription:function(t){return e(l(u,t.target.value))},handleDate:function(t){return e(l(j,t.target.value))},handleTime:function(t){var a=t.target.value.toString(),n=a.substr(16,2),s=a.substr(19,2),c=60*(60*parseInt(n)+parseInt(s));return e(l(h,c))},handleDelete:function(t){return e(l(f,t))},handleCancle:function(){return e(l(p,""))},handleUser:function(t){return e(l(D,t.target.value))}}}))((function(e){var t=e.handleSubmit,a=e.handleDescription,n=e.handleDate,s=e.handleTime,c=e.handleDelete,i=e.handleCancle,r=e.handleUser,o=e.isValid,l=e.description,d=e.date,u=e.time,j=e.teamData,h=e.assignedUser,p=e.idState;function b(e){return m.apply(this,arguments)}function m(){return(m=Object(L.a)(C.a.mark((function a(n){var s,c,i;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),s=JSON.parse(localStorage.getItem("auth_token_jeeva")),c=V(e),e.idState){a.next=8;break}return a.next=6,P(s,"POST",c).catch((function(e){return console.log(e)}));case 6:a.next=11;break;case 8:return c.is_completed=e.isComplete,a.next=11,P(s,"PUT",c,e.idState).catch((function(e){return console.log(e)}));case 11:return a.next=13,P(s,"GET").catch((function(e){return console.log(e)}));case 13:i=a.sent,t(i.results);case 15:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function O(){return(O=Object(L.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this Task?")){e.next=8;break}return t=JSON.parse(localStorage.getItem("auth_token_jeeva")),e.next=4,P(t,"DELETE",{},p).catch((function(e){return console.log(e)}));case 4:return e.next=6,P(t,"GET");case 6:a=e.sent,c(a.results);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(w.jsxs)("form",{className:"task_form",onSubmit:b,children:[Object(w.jsxs)("div",{className:"task_description",children:[Object(w.jsx)("label",{htmlFor:"description",children:"Task description"}),Object(w.jsx)("input",{type:"text",id:"description",onChange:a,value:l}),!o&&Object(w.jsx)("p",{style:{color:"red"},children:"Required"})]}),Object(w.jsxs)("div",{className:"date_time",children:[Object(w.jsxs)("div",{className:"date",children:[Object(w.jsx)("label",{htmlFor:"date",children:"Date"}),Object(w.jsx)("input",{id:"date",type:"date",onChange:n,value:d})]}),Object(w.jsxs)("div",{className:"time",children:[Object(w.jsx)("label",{htmlFor:"time",children:"Time"}),Object(w.jsx)(B.a,{id:"time",style:{fontSize:"16px"},onChange:s,value:M(u)})]})]}),Object(w.jsxs)("div",{className:"assign_user",children:[Object(w.jsx)("label",{children:"Assign User"}),Object(w.jsx)("select",{onChange:r,children:j.map((function(e){return Object(w.jsx)("option",{value:e.id,selected:e.id==h,children:e.name},e.id)}))})]}),Object(w.jsxs)("div",{className:"button_container",children:[Object(w.jsx)("button",{type:"button",className:"delete",onClick:function(){return O.apply(this,arguments)},children:Object(w.jsx)(U.c,{})}),Object(w.jsxs)("span",{className:"rignt_buttons",children:[Object(w.jsx)("button",{type:"button",className:"cancel",onClick:i,children:"Cancel"}),Object(w.jsx)("button",{type:"submit",className:"save",onClick:b,children:"Save"})]})]})]})})),q=a(33);a(69);var K=function(e){var t=e.data,a=e.icon,n=e.handleEdit,s=e.updateStatus,c=t.id,i=t.task_msg,r=t.task_date,o=t.task_time,l=t.is_completed;return Object(w.jsx)("li",{className:"item",children:Object(w.jsxs)("div",{className:"item_wrap",children:[Object(w.jsx)("div",{className:"item_profile",children:Object(w.jsx)("img",{src:a,height:"32px",width:"32px"})}),Object(w.jsxs)("div",{className:"item_detail",children:[Object(w.jsx)("div",{className:"item_title",children:Object(w.jsx)("span",{style:{color:l?"white":"black",backgroundColor:l?"green":"white"},children:i})}),Object(w.jsxs)("div",{className:"item_time",children:[Object(w.jsx)("span",{children:r}),Object(w.jsx)("span",{children:"at"}),Object(w.jsx)("span",{children:M(o)})]})]}),Object(w.jsxs)("div",{className:"item_editing",children:[Object(w.jsx)("button",{className:"edit",onClick:function(){return n(c)},children:Object(w.jsx)(U.b,{})}),Object(w.jsx)("button",{className:"check",onClick:function(){return s(c)},children:Object(w.jsx)(U.a,{})})]})]})})};var R=Object(o.b)((function(e){return{taskList:e.taskList,isEditing:e.isEditing,userData:e.userData}}),(function(e){return{handleEditing:function(){return e(l(d,""))},handleEdit:function(t){return e(l(m,t))},handleDone:function(t){return e(l(O,t))},handleUserData:function(t){return e(l(k,t))},handleTaskData:function(t){return e(l(_,t))},handleTeamData:function(t){return e(l(y,t))}}}))((function(e){var t=e.taskList,a=e.isEditing,s=e.userData,c=e.handleEditing,i=e.handleEdit,r=e.handleDone,o=e.handleUserData,l=e.handleTaskData,d=e.handleTeamData;function u(e){return j.apply(this,arguments)}function j(){return(j=Object(L.a)(C.a.mark((function e(a){var n,s,c,i,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("auth_token_jeeva")),s=t.find((function(e){return e.id==a})),c=new Date,i={assigned_user:s.assigned_user,task_msg:s.task_msg,task_date:s.task_date,task_time:s.task_time,is_completed:s.is_completed?0:1,time_zone:-1*c.getTimezoneOffset()},e.next=6,P(n,"PUT",i,a).catch((function(e){return console.log(e)}));case 6:return e.next=8,P(n,"GET").catch((function(e){return console.log(e)}));case 8:o=e.sent,console.log(a),r(o.results);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)(Object(L.a)(C.a.mark((function e(){var t,a,n,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("auth_token_jeeva")))){e.next=14;break}return e.next=4,z(t,"https://stage.api.sloovi.com/user");case 4:return a=e.sent,e.next=7,P(t,"GET","https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38");case 7:return n=e.sent,e.next=10,z(t,"https://stage.api.sloovi.com/team");case 10:s=e.sent,o(a.results),l(n.results),d(s.results.data);case 14:case"end":return e.stop()}}),e)}))),[]),Object(w.jsxs)("div",{className:"task_container",children:[Object(w.jsx)("h1",{style:{paddingBottom:"10px"},children:null===s||void 0===s?void 0:s.name}),Object(w.jsxs)("div",{className:"task_header",children:[Object(w.jsx)("div",{className:"task",children:"TASKS ".concat(null===t||void 0===t?void 0:t.length)}),Object(w.jsx)("button",{className:"task_add",onClick:c,children:Object(w.jsx)(q.a,{size:"1.8em"})})]}),a?Object(w.jsx)(G,{}):Object(w.jsx)("ul",{children:(null===t||void 0===t?void 0:t.length)?t.map((function(e){return Object(w.jsx)(K,{data:e,icon:s.icon,handleEdit:i,updateStatus:u},e.id)})):""})]})}));a(70);var Y="https://stage.api.sloovi.com/login",H=null;var Q=Object(o.b)((function(e){return{email:e.email,password:e.password,loginData:e.loginData}}),(function(e){return{handleEmail:function(t){return e(l(g,t.target.value))},handlePassword:function(t){return e(l(x,t.target.value))},handleLoginData:function(t){return e(l(v,t))}}}))((function(e){var t,a,n=e.email,s=e.password,c=e.loginData,i=e.handleEmail,o=e.handlePassword,l=e.handleLoginData,d=Object(r.g)();if(c&&(200==(H=c.code)&&localStorage.setItem("auth_token_jeeva",JSON.stringify(c.results.token)),console.log(c)),JSON.parse(localStorage.getItem("auth_token_jeeva")))return d.push("/dashboard"),Object(w.jsx)(w.Fragment,{});function u(){return(u=Object(L.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,I.a.post(Y,{email:n,password:s});case 3:return e.next=5,e.sent.data;case 5:a=e.sent,l(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(w.jsx)("div",{className:"login",children:Object(w.jsx)("div",{children:Object(w.jsxs)("form",{className:"login_form",onSubmit:function(e){return u.apply(this,arguments)},children:[Object(w.jsx)("p",{className:"top_error_message",children:401==H?c.message:""}),Object(w.jsxs)("div",{className:"login_form_control",children:[Object(w.jsx)("label",{htmlFor:"email",children:"Email"}),Object(w.jsx)("input",{type:"text",id:"email",onChange:i,value:n,placeholder:"example@mail.com"}),Object(w.jsx)("p",{children:400==H?null===(t=c.results.find((function(e){return"email"==e.key})))||void 0===t?void 0:t.msg:""})]}),Object(w.jsxs)("div",{className:"login_form_control",children:[Object(w.jsx)("label",{htmlFor:"password",children:"Password"}),Object(w.jsx)("input",{type:"text",id:"password",onChange:o,value:s,placeholder:"Minimum 8 Characters"}),Object(w.jsx)("p",{children:400==H?null===(a=c.results.find((function(e){return"password"==e.key})))||void 0===a?void 0:a.msg:""})]}),Object(w.jsx)("div",{className:"login_button",children:Object(w.jsx)("button",{children:"Login"})})]})})})}));var W=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(r.d,{children:[Object(w.jsx)(r.b,{exact:!0,path:"/login",children:Object(w.jsx)(Q,{})}),Object(w.jsx)(r.b,{exact:!0,path:"/dashboard",children:Object(w.jsx)(E,{children:Object(w.jsx)(R,{})})}),Object(w.jsx)(r.a,{exact:!0,from:"/",to:"/login"})]})})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))},Z=a(34),$=a(3),ee={taskList:[],isEditing:!1,isValid:!0,idState:null,description:"Follow Up",assignedUser:null,date:"",time:0,email:"",password:"",loginData:null,userData:null,teamData:null,isComplete:0,token:null};var te=function(){var e,t,a,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object($.a)({},s);switch(c.type){case g:return Object($.a)(Object($.a)({},s),{},{email:c.payload});case x:return Object($.a)(Object($.a)({},s),{},{password:c.payload});case v:return Object($.a)(Object($.a)({},s),{},{loginData:c.payload});case k:return Object($.a)(Object($.a)({},s),{},{userData:c.payload});case _:return Object($.a)(Object($.a)({},s),{},{taskList:c.payload});case y:return Object($.a)(Object($.a)({},s),{},{teamData:c.payload,assignedUser:c.payload[0].id});case d:return s.isEditing||(a=[(t=new Date).getFullYear(),t.getMonth()+1,t.getDate()],n="".concat(a[0],"-").concat(a[1]<10?0:"").concat(a[1],"-").concat(a[2]<10?0:"").concat(a[2]),i.description="Follow Up",i.date=n,i.time=0,i.isValid=!0,i.idState=null,i.assignedUser=i.teamData[0].id),i.isEditing=!i.isEditing,Object($.a)({},i);case u:return Object($.a)(Object($.a)({},s),{},{description:c.payload});case j:return Object($.a)(Object($.a)({},s),{},{date:c.payload});case h:return Object($.a)(Object($.a)({},s),{},{time:c.payload});case D:return Object($.a)(Object($.a)({},s),{},{assignedUser:c.payload});case p:return Object($.a)(Object($.a)({},s),{},{isEditing:!1,isValid:!0,idState:null});case b:return i.description&&i.description.trim()?(i.taskList=c.payload,i.isEditing=!1,i.isValid=!0,Object($.a)({},i)):Object($.a)(Object($.a)({},s),{},{isValid:!1});case m:return e=i.taskList.find((function(e){return e.id==c.payload})),i.idState=c.payload,i.description=e.task_msg,i.date=e.task_date,i.time=e.task_time,i.assignedUser=e.assigned_user,i.isComplete=e.is_completed,i.isEditing=!0,Object($.a)({},i);case O:return Object($.a)(Object($.a)({},i),{},{taskList:c.payload});case f:return Object($.a)(Object($.a)({},i),{},{taskList:c.payload,idState:null,isEditing:!1});case S:return Object($.a)(Object($.a)({},i),{},{loginData:c.payload,email:"",password:"",token:null});case N:return Object($.a)(Object($.a)({},i),{},{token:c.payload,loginData:null});default:return s}},ae=Object(Z.a)(te),ne=a(17);i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(ne.a,{children:Object(w.jsx)(o.a,{store:ae,children:Object(w.jsx)(W,{})})})}),document.getElementById("root")),X()}},[[71,1,2]]]);
//# sourceMappingURL=main.a31ac06c.chunk.js.map